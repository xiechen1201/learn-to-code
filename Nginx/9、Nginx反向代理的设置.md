正向代理就是：你想访问目标服务器的权限，但是没有权限。这时候代理服务器有权限访问服务器，并且你有访问代理服务器的权限，这时候你就可以通过访问代理服务器，代理服务器访问真实服务器，把内容给你呈现出来。

反向代理：反向代理跟代理正好相反（需要说明的是，现在基本所有的大型网站的页面都是用了反向代理），客户端发送的请求，想要访问server服务器上的内容。发送的内容被发送到代理服务器上，这个代理服务器再把请求发送到自己设置好的内部服务器上，而用户真实想获得的内容就在这些设置好的服务器上。

他们的区别就是proxy服务器代理的并不是客户端，而是服务器,即向外部客户端提供了一个统一的代理入口，客户端的请求都要先经过这个proxy服务器。具体访问那个服务器server是由Nginx来控制的。再简单点来讲，一般代理指代理的客户端，反向代理是代理的服务器。

## 最简单的反向代理

现在我们要访问 http://nginx2.jspang.com 然后反向代理到 jspang.com 这个网站。我们直接到 etc/nginx/con.d/8001.conf 进行修改。

```bash
server{
        listen 80;
        server_name nginx2.jspang.com;
        location / {
               proxy_pass http://jspang.com; # 一般我们反向代理的都是一个IP，但是我这里代理了一个域名也是可以的。
        }
}
```

## 其它反向代理指令

proxy_set_header :在将客户端请求发送给后端服务器之前，更改来自客户端的请求头信息。

proxy_connect_timeout:配置Nginx与后端代理服务器尝试建立连接的超时时间。

proxy_read_timeout : 配置Nginx向后端服务器组发出read请求后，等待相应的超时时间。

proxy_send_timeout：配置Nginx向后端服务器组发出write请求后，等待相应的超时时间。

proxy_redirect :用于修改后端服务器返回的响应头中的Location和Refresh。